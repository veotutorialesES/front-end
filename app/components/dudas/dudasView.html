<style type="text/css">

</style>

<div ng-controller="dudasController" ng-init="getDoubt(doubt_id);getAnswers(doubt_id)" style="padding-bottom: 20px;margin-top: 20px;">


<div class="container">
    <div class="row" style="margin-top: 10px;">

        <div class="col-xs-12 col-sm-8">
            <div class="box">
                <div style="padding: 10px;border-bottom: 1px silver solid">

                    <h1>{{doubt.title}}</h1></div>
            <div ng-bind-html="doubt.description" style="padding: 20px;">

                <!--
<pre class="prettyprint lang-js">
function getCookie(c_name){
    var c_value = document.cookie;
    var c_start = c_value.indexOf(" " + c_name + "=");
    if (c_start == -1){
        c_start = c_value.indexOf(c_name + "=");
    }
</pre>
-->

            </div>
            </div>
            <hr>
            <label style="font-size: 17pt;">Respuestas</label>
            <div ng-repeat="answer in answers" style="margin-top: 20px;">
                <div  class="box" style="">
                    <div style="height: auto !important;overflow: hidden;border-bottom: 1px #e1e1e1 solid">
                        <div class="pull-left" style="padding: 5px;"></div>
                        <ul class="pull-right float padding-5 hover-default">
                            <li >{{answer.likes}}  </li>
                            <li ng-hide="answer.is_liked"  ng-click="answer_like(answer.answer_id);answer.is_liked = true;answer.likes = answer.likes + 1;"><span class="glyphicon glyphicon-thumbs-up"></span> FUNCIONA  </li>
                            <li ng-show="answer.is_liked"  ng-click="answer_unlike(answer.answer_id);answer.is_liked = false;answer.likes = answer.likes - 1;"><span class="glyphicon glyphicon-thumbs-up"></span> NO FUNCIONA  </li>
                        </ul>
                    </div>
                    <div style="padding: 20px;">
                        {{answer.description}}
                    </div>

                    <div style="padding: 3px;height: auto !important;overflow: hidden;font-size: 9pt;border-top: 1px #e1e1e1 solid">

                        <div class="pull-left">
                            hace {{answer.created_at}} minutos por {{answer.user_id}}

                        </div>

                        <div class="pull-right">
                            <span class="glyphicon glyphicon-comment"></span> RESPONDER
                        </div>

                    </div>

                </div>
                <div class="box" style="padding: 5px;">
                    <div ng-show="loged">
                    <textarea ng-model="comment.description" class="form-control" style="height: 70px;resize: none"></textarea>
                    <div style="padding-top: 5px;text-align: right">
                        <button ng-click="addComment(answer.answer_id)" class="btn btn-default btn-xs" style="">ENVIAR</button>
                    </div>
                    </div>
                    <div ng-hide="loged">Inicia sesión para responder</div>
                </div>
                <div class="box" style="border-top: 1px #e1e1e1 solid;background-color:#efefef;">

                    <div ng-click="getComments(answer.answer_id)" style="">

                        <div ng-repeat="comment in answer.comments" style="padding: 5px;border-bottom: 1px #e5e5e5 solid;padding:10px;">{{comment.description}} 1 <span style="color: silver">por Salvador hace 20 minutos</span> </div>

                    </div>
                </div>



        </div>








            <div class="" style="margin-top: 20px;padding: 5px;">
                <div ng-show="loged">
                <label style="font-size: 17pt;">Escribe una respuesta</label>


                <textarea ng-model="NewAnswer.description" class="form-control">

                </textarea>
                <div style="padding-top: 5px;text-align: right">
                    <button ng-click="addAnswer(doubt_id)" class="btn btn-default" style="">ENVIAR</button>
                </div>
                </div>
                <div ng-hide="loged">Inicia sesión para responder</div>



            </div>




        </div>
        <div class="col-xs-12 col-sm-4" style="">
            <div>
                <img style="width: 100%" src="{{doubt.tutorial_img}}">
                <div style="margin-top: 20px;">
                    <div style="padding: 10px;border:1px silver solid">Tutorial: {{doubt.tutorial_title}}</div>
                    <div style="padding: 10px;border:1px silver solid">Curso: {{doubt.course_title}}</div>
                </div>
                <div ng-controller="subscriptionController" ng-show="loged" ng-init="check(0,doubt_id)" class="box" style="margin-top: 20px;;">
                    <button ng-click="add(0,doubt_id)" class="btn btn-block subscribe">Suscribirme al curso <span class="glyphicon glyphicon-star pull-right" ></span></button>
                </div>

            </div>
        </div>
    </div>
</div>



</div>